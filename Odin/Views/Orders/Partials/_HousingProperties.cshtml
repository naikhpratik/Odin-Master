@model IEnumerable<Odin.ViewModels.Orders.Transferee.HousingPropertyViewModel>

<div id="propertiesBlock">
    <div class="row">
        <div class="row" id="propertiesHeader">
            <div class="col-md-1">
                <p>Location Photos:</p>
            </div>
            @* Switch next 3 columns to col-md-2 when adding remaining columns *@
            <div class="col-md-2">
                <p>Address:</p>
            </div>
            <div class="col-md-3">
                <p>Availability Date:</p>
            </div>
            <div class="col-md-3">
                <p>BD | BA<br />Rent | Sq. Ft:</p>
            </div>
            
            <div class="col-md-2">
                <p>Schedule a Viewing</p>
            </div>
            
            <div class="col-md-1">
                <p>Like or Dislike:</p>
            </div>
            <!--
            <div class="col-md-1">
                <p>Property Comments:</p>
            </div>
            -->
        </div>
    </div>

    <ul class="row sectionList" id="propertiesList">

        @foreach (var propertyVM in Model)
        {
            <li class="row propertyItem" data-property-id="@propertyVM.Id">


                <div class="col-md-1 col-xs-12">
                    <label class="mobileLabel">Property Photos</label>

                    @if (ViewBag.IsPDF == true)
                    {
                        <ul class="sectionList">
                            @{ int kount = 0; }
                            @foreach (var photo in propertyVM.PropertyPhotos)
                            {
                                <li class="photo">
                                    <img class="location" src="@photo.PhotoUrl" />
                                </li>

                                kount++;

                                if (kount > 5)
                                {
                                    break;
                                }
                            }
                        </ul>
                    }
                    else
                    {
                        <img class="location" src="@propertyVM.ThumbnailPhotoUrl" />
                    }

                </div>


                <div class="col-md-2 col-xs-12">
                    <label class="mobileLabel">Address</label>
                    <p>
                        @Html.DisplayFor(m => propertyVM.PropertyAddress)
                    </p>
                </div>
                <div class="col-md-3 col-xs-12">
                    <label class="mobileLabel">Availability</label>
                    <p>
                        @Html.DisplayFor(m => propertyVM.PropertyAvailabilityDate)
                    </p>
                </div>
                <div class="col-md-3 col-xs-12">
                    <label class="mobileLabel">BD | BA<br />Rent | Sq. Ft:</label>
                    <p>
                        @Html.DisplayFor(m => propertyVM.PropertyNumberOfBedrooms) | @Html.DisplayFor(m => propertyVM.PropertyNumberOfBathrooms)<br />
                        @Html.DisplayFor(m => propertyVM.PropertyAmount) | @Html.DisplayFor(m => propertyVM.PropertySquareFootage)
                    </p>
                </div>
                
                <div class="col-md-2">
                    <label class="mobileLabel">Schedule a Viewing</label>
                    @Html.DatePicker("date", "ViewingDate", propertyVM.ViewingDate, true)
                </div>
                
                <div class="col-md-1 col-xs-12">
                    <label class="mobileLabel">Like or Dislike</label>
                    @Html.EditorFor(m => propertyVM.Liked, new { propertyId = propertyVM.Id })
                </div>
                <!--
                <div class="col-md-1 comments">
                    <img src="~/Content/Images/icn_chat_bubble.png" />
                    <span>09</span>
                </div>
                -->
            </li>
        }

    </ul>
</div>

@if (ViewBag.IsPDF == true)
{
    @Styles.Render("~/Styling/properties")
}
