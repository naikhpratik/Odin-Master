@model IEnumerable<Odin.ViewModels.Orders.Transferee.HousingPropertyViewModel>

<div id="propertiesBlock">
    <ul class="row" id="propertiesList">
        <li class="row" id="propertiesHeader">
            <div class="col-md-1">
                <p>Location Photos:</p>
            </div>
            @* Switch next 3 columns to col-md-2 when adding remaining columns *@
            <div class="col-md-3">
                <p>Address:</p>
            </div>
            <div class="col-md-3">
                <p>Availability Date:</p>
            </div>
            <div class="col-md-4">
                <p>BD | BA<br />Rent | Sq. Ft:</p>
            </div>
            <!--
            <div class="col-md-3">
                <p>Schedule a Viewing</p>
            </div>
            -->
            <div class="col-md-1">
                <p>Like or Dislike:</p>
            </div>
            <!--
            <div class="col-md-1">
                <p>Property Comments:</p>
            </div>
            -->
        </li>

        @foreach (var propertyVM in Model)
            {
            <li class="row propertyItem" data-property-id="@propertyVM.Id">
                <div class="col-md-1">
                    <img class="location" src="@propertyVM.ThumbnailPhotoUrl" />
                </div>
                @* Switch next 3 columns to col-md-2 when adding remaining columns *@
                <div class="col-md-3">
                    <p>
                        @Html.DisplayFor(m => propertyVM.PropertyAddress)
                    </p>
                </div>
                <div class="col-md-3">
                    <p>
                        @Html.DisplayFor(m => propertyVM.PropertyAvailabilityDate)
                    </p>
                </div>
                <div class="col-md-4">
                    <p>
                        @Html.DisplayFor(m => propertyVM.PropertyNumberOfBedrooms) | @Html.DisplayFor(m => propertyVM.PropertyNumberOfBathrooms)<br />
                        @Html.DisplayFor(m => propertyVM.PropertyAmount) | @Html.DisplayFor(m => propertyVM.PropertySquareFootage)
                    </p>
                </div>
                <!--
                <div class="col-md-3">
                    @Html.DatePicker("date", "ViewingDate", false)
                </div>
                -->
                <div class="col-md-1 like">
                    @Html.EditorFor(m => propertyVM.Liked)
                </div>
                <!--
                <div class="col-md-1 comments">
                    <img src="~/Content/Images/icn_chat_bubble.png" />
                    <span>09</span>
                </div>
                -->
            </li>
        }

    </ul>
</div>

<script>
    $(document).ready(function () {
        $('.propertyItem').click(function (event) {
            var propertyId = $(event.delegateTarget).data("property-id");
            var propertyModalUrl = '/homefindingproperties/propertypartial/' + propertyId;
            $('#propertyModalContent').load(propertyModalUrl, function (response, status, xhr) {
                if (status == "success") {
                    $('#propertyDetailsModal').modal('show');
                }
            });
        });
    });
</script>